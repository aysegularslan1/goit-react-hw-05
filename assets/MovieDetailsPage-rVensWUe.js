import{b as h,a as _,r as i,j as s,L as x,N as m,O as j}from"./index-CFUdsi_Y.js";import{a as f}from"./api-FmdgtVtz.js";const g="_main_1smpm_1",N="_goBack_1smpm_5",k="_details_1smpm_13",b="_poster_1smpm_18",L="_info_1smpm_23",w="_subNav_1smpm_27",B="_active_1smpm_40",a={main:g,goBack:N,details:k,poster:b,info:L,subNav:w,active:B};function R(){const{movieId:o}=h(),d=_(),v=i.useRef(d.state?.from??"/movies"),[e,p]=i.useState(null),[u,n]=i.useState(!1),[r,c]=i.useState(null);if(i.useEffect(()=>{n(!0),f(o).then(t=>{p(t),c(null)}).catch(()=>c("Failed to load movie details")).finally(()=>n(!1))},[o]),u)return s.jsx("p",{children:"Loading movie details..."});if(r)return s.jsx("p",{children:r});if(!e)return null;const l=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"";return s.jsxs("main",{className:a.main,children:[s.jsx(x,{to:v.current,className:a.goBack,children:"← Go back"}),s.jsxs("div",{className:a.details,children:[l&&s.jsx("img",{src:l,alt:e.title,className:a.poster}),s.jsxs("div",{className:a.info,children:[s.jsx("h2",{children:e.title}),s.jsxs("p",{children:["User Score: ",Math.round(e.vote_average*10),"%"]}),s.jsx("h3",{children:"Overview"}),s.jsx("p",{children:e.overview}),s.jsx("h3",{children:"Genres"}),s.jsx("p",{children:e.genres.map(t=>t.name).join(", ")})]})]}),s.jsxs("nav",{className:a.subNav,children:[s.jsx(m,{to:"cast",className:({isActive:t})=>t?a.active:void 0,children:"Cast"}),s.jsx(m,{to:"reviews",className:({isActive:t})=>t?a.active:void 0,children:"Reviews"})]}),s.jsx(j,{})]})}export{R as default};
