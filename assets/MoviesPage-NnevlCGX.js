import{u as _,r as n,j as t}from"./index-CFUdsi_Y.js";import{M as j}from"./MovieList-d559pwjv.js";import{s as v}from"./api-FmdgtVtz.js";const y="_main_1qfyk_1",S="_form_1qfyk_5",g="_input_1qfyk_11",b="_button_1qfyk_17",a={main:y,form:S,input:g,button:b};function N(){const[h,p]=_(),e=h.get("query")||"",[r,i]=n.useState([]),[u,c]=n.useState(!1),[o,m]=n.useState(null),[l,d]=n.useState(e);n.useEffect(()=>{if(!e){i([]);return}c(!0),v(e).then(s=>{i(s),m(null)}).catch(()=>m("Failed to fetch movies")).finally(()=>c(!1))},[e]);const x=s=>{s.preventDefault();const f=l.trim();f&&p({query:f})};return t.jsxs("main",{className:a.main,children:[t.jsx("h1",{children:"Search Movies"}),t.jsxs("form",{onSubmit:x,className:a.form,children:[t.jsx("input",{type:"text",value:l,onChange:s=>d(s.target.value),placeholder:"Enter movie name",className:a.input}),t.jsx("button",{type:"submit",className:a.button,children:"Search"})]}),u&&t.jsx("p",{children:"Loading..."}),o&&t.jsx("p",{children:o}),r.length>0&&t.jsx(j,{movies:r}),!u&&!o&&r.length===0&&e&&t.jsx("p",{children:"No results found."})]})}export{N as default};
